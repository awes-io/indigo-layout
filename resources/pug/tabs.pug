extends includes/layout.pug

block pageVariables
    - var pageTitle = "Tags"
    - var removePlus = true

block pageHead
    script.
        !function(){"use strict";var e=function(e,t,i,s,n,a,l,r,o,d){"boolean"!=typeof l&&(o=r,r=l,l=!1);var c,b="function"==typeof i?i.options:i;if(e&&e.render&&(b.render=e.render,b.staticRenderFns=e.staticRenderFns,b._compiled=!0,n&&(b.functional=!0)),s&&(b._scopeId=s),a?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,o(e)),e&&e._registeredComponents&&e._registeredComponents.add(a)},b._ssrRegister=c):t&&(c=l?function(){t.call(this,d(this.$root.$options.shadowRoot))}:function(e){t.call(this,r(e))}),c)if(b.functional){var u=b.render;b.render=function(e,t){return c.call(t),u(e,t)}}else{var h=b.beforeCreate;b.beforeCreate=h?[].concat(h,c):[c]}return i};var t=e({},void 0,{name:"tab-switcher",props:{active:Number,tabs:Array},render(e){return e("div",{staticClass:"tab-builder__tabs"},[e("transition-group",{props:{tag:"div",name:"tab-transition"}},this.tabs.map((t,i)=>e("div",{directives:[{name:"show",rawName:"v-show",value:i==this.active,expression:"i == active"}],staticClass:"tab-builder__tab",key:i+"child"},t.componentOptions.children)))])}},void 0,void 0,void 0,void 0,void 0);const i=["tb-tab","tb-link"];var s=e({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tab-builder"},[i("div",{staticClass:"tab-builder__togglers"},[i("div",{ref:"togglers",staticClass:"tab-builder__togglers-overflow"},e._l(e.togglers,function(t,s){return i(t.url?"a":"button",{key:s,tag:"component",staticClass:"tab-builder__toggler",class:{"is-active":s===e.activeTab},style:{visibility:e.hiddenLabels&&e.hiddenLabels.includes(s)?"hidden":"visible"},attrs:{href:t.url},on:{click:function(i){!t.url&&(e.activeTab=s)}}},[e._t("tab-toggler",[e._v("\n                    "+e._s(t.label)+"\n                ")],{item:t,index:s,isActive:s===e.activeTab})],2)}),1),e._v(" "),i("context-menu",{ref:"hiddenToggler",staticClass:"tab-builder__hidden-toggler",class:{"has-active-item":e.hiddenLabels&&e.hiddenLabels.includes(e.activeTab)},style:{visibility:e.hiddenLabels?"visible":"hidden"},attrs:{boundary:".tab-builder"}},[i("template",{slot:"toggler"},[e._t("tab-hidden-open",[e._v("\n                    "+e._s(e.togglerLabel)+"\n                ")],{items:e.togglers,hiddenIdx:e.hiddenLabels,activeTab:e.activeTab,label:e.togglerLabel})],2),e._v(" "),e._l(e.togglers,function(t,s){return i(t.url?"cm-link":"cm-button",{directives:[{name:"show",rawName:"v-show",value:e.hiddenLabels&&e.hiddenLabels.includes(s),expression:"hiddenLabels && hiddenLabels.includes(i)"}],key:s,tag:"component",class:{"is-active":s===e.activeTab},attrs:{href:t.url},on:{click:function(i){!t.url&&(e.activeTab=s)}}},[e._t("tab-hidden",[e._v("\n                    "+e._s(t.label)+"\n                ")],{item:t,index:s,isActive:s===e.activeTab})],2)})],2)],1),e._v(" "),i("tab-switcher",{attrs:{tabs:e.tabs,active:e.activeTab}})],1)},staticRenderFns:[]},void 0,{name:"tab-builder",components:{tabSwitcher:t},data:()=>({activeTab:0,hiddenLabels:null}),computed:{tabs(){return this.$slots.default.filter(e=>e.componentOptions&&i.includes(e.componentOptions.tag))},togglers(){return this.tabs.map(e=>({label:e.componentOptions.propsData.label,url:e.componentOptions.propsData.url||null}))},togglerLabel(){if(!this.hiddenLabels)return"";switch(this.hiddenLabels.length){case this.togglers.length:return this.togglers[this.activeTab].label;default:return this.$lang.TABS_HIDDEN_TOGGLER.replace("%s",this.hiddenLabels.length)}}},methods:{calculateHiddenLabels(){let e=10,t=[],i=this.$refs.togglers.clientWidth,s=Array.from(this.$refs.togglers.children);this.hiddenLabels&&(i-=this.$refs.hiddenToggler.$el.offsetWidth);for(let n=0;n<s.length;n++)(e+=s[n].offsetWidth)>i&&t.push(n);this.hiddenLabels=t.length?t:null},debounceCalculateHiddenLabels(){clearTimeout(this.__resizeTimeout),this.__resizeTimeout=setTimeout(this.calculateHiddenLabels,100)}},mounted(){this.$nextTick(this.calculateHiddenLabels),window.addEventListener("resize",this.debounceCalculateHiddenLabels)},beforeDestroy(){window.removeEventListener("resize",this.debounceCalculateHiddenLabels)}},void 0,!1,void 0,void 0,void 0);var n=e({render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._t("default")],2)},staticRenderFns:[]},void 0,{name:"tb-tab",props:{label:{type:String}}},void 0,!1,void 0,void 0,void 0);var a=e({render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]},void 0,{name:"tb-link",props:{label:String,url:{type:String,required:!0}}},void 0,!1,void 0,void 0,void 0);var l={installed:!1,install:function(e){this.installed||(this.installed=!0,e.component("tab-builder",s),e.component("tb-tab",n),e.component("tb-link",a))}},r={TABS_HIDDEN_TOGGLER:"%s other"};const o={modules:{vue:{src:"https://unpkg.com/vue@2.6.3/dist/vue.min.js",cb(){Vue.use(l)}}},install(e){e.lang=r}};window&&"AWES"in window?AWES.use(o):(window.__awes_plugins_stack__=window.__awes_plugins_stack__||[],window.__awes_plugins_stack__.push(o))}();



block pageContent

    tab-builder
        template(slot='tab-toggler', slot-scope='toggler') {{ toggler.item.label }}
        tb-link(label='Link 555555555555555555555', url='//google.com')
        tb-tab(label='Tab 1 1111111111111111111111') Lorem ipsum dolor sit amet consectetur adipisicing elit. A, libero? Dolor accusamus laudantium commodi consequuntur suscipit, est in quia, nobis nemo architecto labore, tempora dignissimos hic minima ex amet voluptate.
        tb-tab(label='Tab 2 22222222222222222222222') Libero eveniet, assumenda tenetur iure recusandae commodi distinctio velit, dicta excepturi animi ullam minima illum quidem voluptates, minus porro amet?
            p Debitis quaerat eos qui consequatur distinctio architecto dolores impedit quisquam quia similique blanditiis numquam quasi nulla iusto, temporibus, alias fugit?
            p Veritatis nobis praesentium enim iste, nesciunt voluptas debitis fuga impedit mollitia porro quisquam, neque necessitatibus nostrum alias voluptatibus vero temporibus.
            p Aliquid laudantium laboriosam sit voluptates architecto in exercitationem adipisci ducimus voluptas eos blanditiis, dolorum, minus maxime distinctio eveniet pariatur autem.
            button Test
        tb-tab(label='Tab 3 33333333333333333333333333333') Test
        tb-link(label='Link 555555555555555555555', url='//google.com')


    p text after tab mobile test